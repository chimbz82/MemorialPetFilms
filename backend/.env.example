# Memorial Pet Films - Complete Environment Variables
# Used by server, worker, and docker-compose

# ============================================================================
# DATABASE (PostgreSQL)
# ============================================================================
DB_HOST=localhost                          # Server: ✓  Worker: ✓  Docker: postgres
DB_PORT=5432                               # Server: ✓  Worker: ✓  Docker: ✓
DB_NAME=memorial_pet_films                 # Server: ✓  Worker: ✓  Docker: ✓
DB_USER=postgres                           # Server: ✓  Worker: ✓  Docker: ✓
DB_PASSWORD=your_secure_password           # Server: ✓  Worker: ✓  Docker: ✓

# ============================================================================
# REDIS (Job Queue)
# ============================================================================
REDIS_HOST=localhost                       # Server: ✓  Worker: ✓  Docker: redis
REDIS_PORT=6379                            # Server: ✓  Worker: ✓  Docker: ✓

# ============================================================================
# AWS S3 STORAGE
# ============================================================================
AWS_ACCESS_KEY_ID=AKIAXXXXXXXXXXXXXXXX     # Server: ✓  Worker: ✓  Docker: ✓
AWS_SECRET_ACCESS_KEY=xxxxxxxxxxxxxxxx     # Server: ✓  Worker: ✓  Docker: ✓
AWS_REGION=eu-west-2                       # Server: ✓  Worker: ✓  Docker: ✓
AWS_BUCKET_NAME=memorial-pet-films         # Server: ✓  Worker: ✓  Docker: ✓

# ============================================================================
# STRIPE PAYMENTS (Production keys: sk_live_*)
# ============================================================================
STRIPE_SECRET_KEY=sk_live_xxxxxxxxxxxxx    # Server: ✓  Worker: ✗  Docker: ✓
STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxx   # Server: ✓  Worker: ✗  Docker: ✓

# Stripe Price IDs (from Stripe Dashboard)
STRIPE_PRICE_STANDARD=price_xxxxx          # Server: ✓  Worker: ✗  Docker: ✓
STRIPE_PRICE_PREMIUM=price_xxxxx           # Server: ✓  Worker: ✗  Docker: ✓
STRIPE_PRICE_RUSH=price_xxxxx              # Server: ✓  Worker: ✗  Docker: ✓

# ============================================================================
# EMAIL (SendGrid or SMTP)
# ============================================================================
SMTP_HOST=smtp.sendgrid.net                # Server: ✗  Worker: ✓  Docker: ✓
SMTP_PORT=587                              # Server: ✗  Worker: ✓  Docker: ✓
SMTP_USER=apikey                           # Server: ✗  Worker: ✓  Docker: ✓
SMTP_PASS=SG.xxxxxxxxxxxxxxxxxxxxxxx       # Server: ✗  Worker: ✓  Docker: ✓
EMAIL_FROM=noreply@memorialpetfilms.com    # Server: ✗  Worker: ✓  Docker: ✓
EMAIL_CONTACT=MemorialPetFilms@protonmail.com  # Server: ✗  Worker: ✓  Docker: ✓

# ============================================================================
# APPLICATION
# ============================================================================
NODE_ENV=production                        # Server: ✓  Worker: ✓  Docker: ✓
PORT=3001                                  # Server: ✓  Worker: ✗  Docker: ✓
FRONTEND_URL=https://memorialpetfilms.com  # Server: ✓  Worker: ✓  Docker: ✓

# ============================================================================
# LIBRARY MUSIC DIRECTORY
# ============================================================================
LIBRARY_AUDIO_DIR=./library-audio          # Server: ✗  Worker: ✓  Docker: /app/library-audio

# ============================================================================
# DOCKER-SPECIFIC (only needed for docker-compose)
# ============================================================================
# These are used by docker-compose.yml to configure services
# All the above variables are used, no additional ones needed

# ============================================================================
# SUMMARY BY SERVICE
# ============================================================================

# SERVER USES:
# - DB_* (all)
# - REDIS_* (all)
# - AWS_* (all)
# - STRIPE_* (all)
# - NODE_ENV, PORT, FRONTEND_URL

# WORKER USES:
# - DB_* (all)
# - REDIS_* (all)
# - AWS_* (all)
# - SMTP_* (all)
# - EMAIL_* (all)
# - NODE_ENV, FRONTEND_URL, LIBRARY_AUDIO_DIR

# ============================================================================
# PRODUCTION CHECKLIST
# ============================================================================
# [ ] DB_PASSWORD is strong and unique
# [ ] STRIPE_SECRET_KEY is sk_live_* (not sk_test_*)
# [ ] STRIPE_WEBHOOK_SECRET matches Stripe Dashboard
# [ ] STRIPE_PRICE_* IDs are correct (£29, £69, £89)
# [ ] AWS credentials have correct IAM permissions
# [ ] AWS_BUCKET_NAME exists and has private access
# [ ] SMTP_PASS is valid SendGrid API key
# [ ] EMAIL_FROM domain is verified in SendGrid
# [ ] FRONTEND_URL is production domain (https)
# [ ] NODE_ENV=production
# [ ] All secrets are secure and not committed to git
